{
  "version": "1.0",
  "engine": "linux|Transformer|1.37.0|latest|latest",
  "containerized": false,
  "host_distro": {
    "name": "Pop!_OS",
    "version": "21.04",
    "display_name": "Pop!_OS 21.04"
  },
  "type": "build",
  "state": "done",
  "target_reference": "uselagoon/php-7.4-fpm:latest",
  "system": {
    "type": "Linux",
    "release": "5.13.14-051314-generic",
    "distro": {
      "name": "Alpine Linux",
      "version": "3.14.2",
      "display_name": "Alpine Linux v3.14"
    }
  },
  "source_image": {
    "identity": {
      "id": "sha256:21541c821e6bec2d6e47aa00919c00c557492ab294f4372a3c8e9e2cc7523cf1",
      "tags": [
        "latest"
      ],
      "names": [
        "uselagoon/php-7.4-fpm:latest"
      ],
      "digests": [
        "sha256:1ffb81c8b5b87650f736fd94428daf00c8e2c7d96ffb17822e019bbfc4da6a99"
      ],
      "full_digests": [
        "uselagoon/php-7.4-fpm@sha256:1ffb81c8b5b87650f736fd94428daf00c8e2c7d96ffb17822e019bbfc4da6a99"
      ]
    },
    "size": 596322970,
    "size_human": "596 MB",
    "create_time": "2021-09-08T09:23:17Z",
    "docker_version": "20.10.8",
    "architecture": "amd64",
    "exposed_ports": [
      "9000/tcp"
    ],
    "os": "linux",
    "labels": {
      "maintainer": "The Lagoon Authors",
      "org.opencontainers.image.authors": "The Lagoon Authors",
      "org.opencontainers.image.source": "https://github.com/uselagoon/lagoon-images",
      "repository": "https://github.com/uselagoon/lagoon-images"
    },
    "env_vars": [
      "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
      "PHPIZE_DEPS=autoconf \t\tdpkg-dev dpkg \t\tfile \t\tg++ \t\tgcc \t\tlibc-dev \t\tmake \t\tpkgconf \t\tre2c",
      "PHP_INI_DIR=/usr/local/etc/php",
      "PHP_EXTRA_CONFIGURE_ARGS=--enable-fpm --with-fpm-user=www-data --with-fpm-group=www-data --disable-cgi",
      "PHP_CFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64",
      "PHP_CPPFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64",
      "PHP_LDFLAGS=-Wl,-O1 -pie",
      "GPG_KEYS=42670A7FE4D0441C8E4632349E4FDC074A4EF02D 5A52880781F755608BF815FC910DEB46F53EA312",
      "PHP_VERSION=7.4.23",
      "PHP_URL=https://www.php.net/distributions/php-7.4.23.tar.xz",
      "PHP_ASC_URL=https://www.php.net/distributions/php-7.4.23.tar.xz.asc",
      "PHP_SHA256=cea52313fcffe56343bcd3c66dbb23cd5507dc559cc2e3547cf8f5452e88a05d",
      "LAGOON=php",
      "LAGOON_VERSION=21.9.0",
      "TMPDIR=/tmp",
      "TMP=/tmp",
      "HOME=/home",
      "ENV=/home/.bashrc",
      "BASH_ENV=/home/.bashrc",
      "NEWRELIC_VERSION=9.17.1.301",
      "BLACKFIRE_VERSION=2.4.2",
      "LAGOON_ENVIRONMENT_TYPE=development"
    ],
    "container_entry": {
      "exe_path": ""
    }
  },
  "minified_image_size": 49464552,
  "minified_image_size_human": "50 MB",
  "minified_image": "uselagoon/php-7.4-fpm:slim",
  "minified_image_has_data": true,
  "minified_by": 12.055561930491152,
  "artifact_location": "/home/linuxbrew/.linuxbrew/Cellar/docker-slim/1.37.0/bin/.docker-slim-state/images/21541c821e6bec2d6e47aa00919c00c557492ab294f4372a3c8e9e2cc7523cf1/artifacts",
  "container_report_name": "creport.json",
  "seccomp_profile_name": "uselagoon-php-7.4-fpm-seccomp.json",
  "apparmor_profile_name": "uselagoon-php-7.4-fpm-apparmor-profile",
  "image_stack": [
    {
      "is_top_image": true,
      "id": "sha256:21541c821e6bec2d6e47aa00919c00c557492ab294f4372a3c8e9e2cc7523cf1",
      "full_name": "uselagoon/php-7.4-fpm:latest",
      "repo_name": "uselagoon/php-7.4-fpm",
      "version_tag": "latest",
      "raw_tags": [
        "uselagoon/php-7.4-fpm:latest"
      ],
      "create_time": "2021-09-08T09:23:17Z",
      "new_size": 596322970,
      "new_size_human": "596 MB",
      "instructions": [
        {
          "type": "ADD",
          "time": "2021-08-27T17:19:45Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 5595292,
          "size_human": "5.6 MB",
          "params": "file:aad4290d27580cc1a094ffaf98c3ca2fc5d699fe695dfb8e6e9fac20f1129450 in /",
          "command_snippet": "ADD file:aad4290d27580cc1a094ffaf98c3ca2fc5d...",
          "command_all": "ADD file:aad4290d27580cc1a094ffaf98c3ca2fc5d699fe695dfb8e6e9fac20f1129450 /",
          "target": "/",
          "source_type": "file"
        },
        {
          "type": "CMD",
          "time": "2021-08-27T17:19:45Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"/bin/sh\"]",
          "command_snippet": "CMD [\"/bin/sh\"]",
          "command_all": "CMD [\"/bin/sh\"]"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:00:50Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHPIZE_DEPS=autoconf \t\tdpkg-dev dpkg \t\tfile \t\tg++ \t\tgcc \t\tlibc-dev \t\tmake \t\tpkgconf \t\tre2c",
          "command_snippet": "ENV PHPIZE_DEPS=autoconf \t\tdpkg-dev dpkg \t\tf...",
          "command_all": "ENV PHPIZE_DEPS=autoconf \t\tdpkg-dev dpkg \t\tfile \t\tg++ \t\tgcc \t\tlibc-dev \t\tmake \t\tpkgconf \t\tre2c"
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:00:51Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 3557932,
          "size_human": "3.6 MB",
          "command_snippet": "RUN apk add --no-cache \t\tca-certificates \t\tc...",
          "command_all": "RUN apk add --no-cache \t\tca-certificates \t\tcurl \t\ttar \t\txz \t\topenssl",
          "system_commands": [
            "apk add --no-cache ca-certificates curl tar xz openssl"
          ]
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:00:52Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 4680,
          "size_human": "4.7 kB",
          "command_snippet": "RUN set -eux; \tadduser -u 82 -D -S -G www-da...",
          "command_all": "RUN set -eux; \tadduser -u 82 -D -S -G www-data www-data",
          "system_commands": [
            "set -eux",
            "adduser -u 82 -D -S -G www-data www-data"
          ]
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:00:53Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_INI_DIR=/usr/local/etc/php",
          "command_snippet": "ENV PHP_INI_DIR=/usr/local/etc/php",
          "command_all": "ENV PHP_INI_DIR=/usr/local/etc/php"
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:00:53Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN set -eux; \tmkdir -p \"$PHP_INI_DIR/conf.d...",
          "command_all": "RUN set -eux; \tmkdir -p \"$PHP_INI_DIR/conf.d\"; \t[ ! -d /var/www/html ]; \tmkdir -p /var/www/html; \tchown www-data:www-data /var/www/html; \tchmod 777 /var/www/html",
          "system_commands": [
            "set -eux",
            "mkdir -p \"$PHP_INI_DIR/conf.d\"",
            "[ ! -d /var/www/html ]",
            "mkdir -p /var/www/html",
            "chown www-data:www-data /var/www/html",
            "chmod 777 /var/www/html"
          ]
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:12:06Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_EXTRA_CONFIGURE_ARGS=--enable-fpm --with-fpm-user=www-data --with-fpm-group=www-data --disable-cgi",
          "command_snippet": "ENV PHP_EXTRA_CONFIGURE_ARGS=--enable-fpm --...",
          "command_all": "ENV PHP_EXTRA_CONFIGURE_ARGS=--enable-fpm --with-fpm-user=www-data --with-fpm-group=www-data --disable-cgi"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:12:06Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_CFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64",
          "command_snippet": "ENV PHP_CFLAGS=-fstack-protector-strong -fpi...",
          "command_all": "ENV PHP_CFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:12:06Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_CPPFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64",
          "command_snippet": "ENV PHP_CPPFLAGS=-fstack-protector-strong -f...",
          "command_all": "ENV PHP_CPPFLAGS=-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:12:07Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_LDFLAGS=-Wl,-O1 -pie",
          "command_snippet": "ENV PHP_LDFLAGS=-Wl,-O1 -pie",
          "command_all": "ENV PHP_LDFLAGS=-Wl,-O1 -pie"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:48:35Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "GPG_KEYS=42670A7FE4D0441C8E4632349E4FDC074A4EF02D 5A52880781F755608BF815FC910DEB46F53EA312",
          "command_snippet": "ENV GPG_KEYS=42670A7FE4D0441C8E4632349E4FDC0...",
          "command_all": "ENV GPG_KEYS=42670A7FE4D0441C8E4632349E4FDC074A4EF02D 5A52880781F755608BF815FC910DEB46F53EA312"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:48:35Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_VERSION=7.4.23",
          "command_snippet": "ENV PHP_VERSION=7.4.23",
          "command_all": "ENV PHP_VERSION=7.4.23"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:48:36Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_URL=https://www.php.net/distributions/php-7.4.23.tar.xz PHP_ASC_URL=https://www.php.net/distributions/php-7.4.23.tar.xz.asc",
          "command_snippet": "ENV PHP_URL=https://www.php.net/distribution...",
          "command_all": "ENV PHP_URL=https://www.php.net/distributions/php-7.4.23.tar.xz PHP_ASC_URL=https://www.php.net/distributions/php-7.4.23.tar.xz.asc"
        },
        {
          "type": "ENV",
          "time": "2021-08-27T21:48:36Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PHP_SHA256=cea52313fcffe56343bcd3c66dbb23cd5507dc559cc2e3547cf8f5452e88a05d",
          "command_snippet": "ENV PHP_SHA256=cea52313fcffe56343bcd3c66dbb2...",
          "command_all": "ENV PHP_SHA256=cea52313fcffe56343bcd3c66dbb23cd5507dc559cc2e3547cf8f5452e88a05d"
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:48:54Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 10414304,
          "size_human": "10 MB",
          "command_snippet": "RUN set -eux; \t\tapk add --no-cache --virtual...",
          "command_all": "RUN set -eux; \t\tapk add --no-cache --virtual .fetch-deps gnupg; \t\tmkdir -p /usr/src; \tcd /usr/src; \t\tcurl -fsSL -o php.tar.xz \"$PHP_URL\"; \t\tif [ -n \"$PHP_SHA256\" ]; then \t\techo \"$PHP_SHA256 *php.tar.xz\" | sha256sum -c -; \tfi; \t\tif [ -n \"$PHP_ASC_URL\" ]; then \t\tcurl -fsSL -o php.tar.xz.asc \"$PHP_ASC_URL\"; \t\texport GNUPGHOME=\"$(mktemp -d)\"; \t\tfor key in $GPG_KEYS; do \t\t\tgpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \t\tdone; \t\tgpg --batch --verify php.tar.xz.asc php.tar.xz; \t\tgpgconf --kill all; \t\trm -rf \"$GNUPGHOME\"; \tfi; \t\tapk del --no-network .fetch-deps",
          "system_commands": [
            "set -eux",
            "apk add --no-cache --virtual .fetch-deps gnupg",
            "mkdir -p /usr/src",
            "cd /usr/src",
            "curl -fsSL -o php.tar.xz \"$PHP_URL\"",
            "if [ -n \"$PHP_SHA256\" ]",
            "then echo \"$PHP_SHA256 *php.tar.xz\" | sha256sum -c -",
            "fi",
            "if [ -n \"$PHP_ASC_URL\" ]",
            "then curl -fsSL -o php.tar.xz.asc \"$PHP_ASC_URL\"",
            "export GNUPGHOME=\"$(mktemp -d)\"",
            "for key in $GPG_KEYS",
            "do gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"",
            "done",
            "gpg --batch --verify php.tar.xz.asc php.tar.xz",
            "gpgconf --kill all",
            "rm -rf \"$GNUPGHOME\"",
            "fi",
            "apk del --no-network .fetch-deps"
          ]
        },
        {
          "type": "COPY",
          "time": "2021-08-27T21:48:54Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 587,
          "size_human": "587 B",
          "params": "file:ce57c04b70896f77cc11eb2766417d8a1240fcffe5bba92179ec78c458844110 in /usr/local/bin/",
          "command_snippet": "COPY file:ce57c04b70896f77cc11eb2766417d8a12...",
          "command_all": "COPY file:ce57c04b70896f77cc11eb2766417d8a1240fcffe5bba92179ec78c458844110 /usr/local/bin/",
          "target": "/usr/local/bin/",
          "source_type": "file"
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:54:44Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 62854405,
          "size_human": "63 MB",
          "command_snippet": "RUN set -eux; \tapk add --no-cache --virtual ...",
          "command_all": "RUN set -eux; \tapk add --no-cache --virtual .build-deps \t\t$PHPIZE_DEPS \t\targon2-dev \t\tcoreutils \t\tcurl-dev \t\tlibsodium-dev \t\tlibxml2-dev \t\tlinux-headers \t\toniguruma-dev \t\topenssl-dev \t\treadline-dev \t\tsqlite-dev \t; \t\texport \t\tCFLAGS=\"$PHP_CFLAGS\" \t\tCPPFLAGS=\"$PHP_CPPFLAGS\" \t\tLDFLAGS=\"$PHP_LDFLAGS\" \t; \tdocker-php-source extract; \tcd /usr/src/php; \tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; \t./configure \t\t--build=\"$gnuArch\" \t\t--with-config-file-path=\"$PHP_INI_DIR\" \t\t--with-config-file-scan-dir=\"$PHP_INI_DIR/conf.d\" \t\t\t\t--enable-option-checking=fatal \t\t\t\t--with-mhash \t\t\t\t--with-pic \t\t\t\t--enable-ftp \t\t--enable-mbstring \t\t--enable-mysqlnd \t\t--with-password-argon2 \t\t--with-sodium=shared \t\t--with-pdo-sqlite=/usr \t\t--with-sqlite3=/usr \t\t\t\t--with-curl \t\t--with-openssl \t\t--with-readline \t\t--with-zlib \t\t\t\t--with-pear \t\t\t\t$(test \"$gnuArch\" = 's390x-linux-musl' && \\\n\techo '--without-pcre-jit') \t\t\t\t${PHP_EXTRA_CONFIGURE_ARGS:-} \t; \tmake -j \"$(nproc)\"; \tfind -type f -name '*.a' -delete; \tmake install; \tfind /usr/local/bin /usr/local/sbin -type f -perm +0111 -exec strip --strip-all '{}' + || true; \tmake clean; \t\tcp -v php.ini-* \"$PHP_INI_DIR/\"; \t\tcd /; \tdocker-php-source delete; \t\trunDeps=\"$( \t\tscanelf --needed --nobanner --format '%n#p' --recursive /usr/local \t\t\t| tr ',' '\\n' \t\t\t| sort -u \t\t\t| awk 'system(\"[ -e /usr/local/lib/\" $1 \" ]\") == 0 { next } { print \"so:\" $1 }' \t)\"; \tapk add --no-cache $runDeps; \t\tapk del --no-network .build-deps; \t\tpecl update-channels; \trm -rf /tmp/pear ~/.pearrc; \t\tphp --version",
          "system_commands": [
            "set -eux; apk add --no-cache --virtual .build-deps $PHPIZE_DEPS argon2-dev coreutils curl-dev libsodium-dev libxml2-dev linux-headers oniguruma-dev openssl-dev readline-dev sqlite-dev ; export CFLAGS=\"$PHP_CFLAGS\" CPPFLAGS=\"$PHP_CPPFLAGS\" LDFLAGS=\"$PHP_LDFLAGS\" ; docker-php-source extract; cd /usr/src/php; gnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; ./configure --build=\"$gnuArch\" --with-config-file-path=\"$PHP_INI_DIR\" --with-config-file-scan-dir=\"$PHP_INI_DIR/conf.d\" --enable-option-checking=fatal --with-mhash --with-pic --enable-ftp --enable-mbstring --enable-mysqlnd --with-password-argon2 --with-sodium=shared --with-pdo-sqlite=/usr --with-sqlite3=/usr --with-curl --with-openssl --with-readline --with-zlib --with-pear $(test \"$gnuArch\" = 's390x-linux-musl'",
            "echo '--without-pcre-jit') ${PHP_EXTRA_CONFIGURE_ARGS:-} ; make -j \"$(nproc)\"; find -type f -name '*.a' -delete; make install; find /usr/local/bin /usr/local/sbin -type f -perm +0111 -exec strip --strip-all '{}' + || true; make clean; cp -v php.ini-* \"$PHP_INI_DIR/\"; cd /; docker-php-source delete; runDeps=\"$( scanelf --needed --nobanner --format '%n#p' --recursive /usr/local | tr ',' 'n' | sort -u | awk 'system(\"[ -e /usr/local/lib/\" $1 \" ]\") == 0 { next } { print \"so:\" $1 }' )\"; apk add --no-cache $runDeps; apk del --no-network .build-deps; pecl update-channels; rm -rf /tmp/pear ~/.pearrc; php --version"
          ]
        },
        {
          "type": "COPY",
          "time": "2021-08-27T21:54:44Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 6746,
          "size_human": "6.7 kB",
          "params": "multi:6dfba8f7e64bd54e4d9aa0855ff6ce7a53059e0a733752b4537fd3fdfd32d837 in /usr/local/bin/",
          "command_snippet": "COPY multi:6dfba8f7e64bd54e4d9aa0855ff6ce7a5...",
          "command_all": "COPY multi:6dfba8f7e64bd54e4d9aa0855ff6ce7a53059e0a733752b4537fd3fdfd32d837 /usr/local/bin/",
          "target": "/usr/local/bin/",
          "source_type": "multi"
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:54:46Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 48710,
          "size_human": "49 kB",
          "command_snippet": "RUN docker-php-ext-enable sodium",
          "command_all": "RUN docker-php-ext-enable sodium",
          "system_commands": [
            "docker-php-ext-enable sodium"
          ]
        },
        {
          "type": "ENTRYPOINT",
          "time": "2021-08-27T21:54:46Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"docker-php-entrypoint\"]",
          "command_snippet": "ENTRYPOINT [\"docker-php-entrypoint\"]",
          "command_all": "ENTRYPOINT [\"docker-php-entrypoint\"]"
        },
        {
          "type": "WORKDIR",
          "time": "2021-08-27T21:54:46Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "/var/www/html",
          "command_snippet": "WORKDIR /var/www/html",
          "command_all": "WORKDIR /var/www/html",
          "system_commands": [
            "mkdir -p /var/www/html"
          ]
        },
        {
          "type": "RUN",
          "time": "2021-08-27T21:54:47Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 25431,
          "size_human": "25 kB",
          "command_snippet": "RUN set -eux; \tcd /usr/local/etc; \tif [ -d p...",
          "command_all": "RUN set -eux; \tcd /usr/local/etc; \tif [ -d php-fpm.d ]; then \t\tsed 's!=NONE/!=!g' php-fpm.conf.default | tee php-fpm.conf > /dev/null; \t\tcp php-fpm.d/www.conf.default php-fpm.d/www.conf; \telse \t\tmkdir php-fpm.d; \t\tcp php-fpm.conf.default php-fpm.d/www.conf; \t\t{ \t\t\techo '[global]'; \t\t\techo 'include=etc/php-fpm.d/*.conf'; \t\t} | tee php-fpm.conf; \tfi; \t{ \t\techo '[global]'; \t\techo 'error_log = /proc/self/fd/2'; \t\techo; echo '; https://github.com/docker-library/php/pull/725#issuecomment-443540114'; echo 'log_limit = 8192'; \t\techo; \t\techo '[www]'; \t\techo '; if we send this to /proc/self/fd/1, it never appears'; \t\techo 'access.log = /proc/self/fd/2'; \t\techo; \t\techo 'clear_env = no'; \t\techo; \t\techo '; Ensure worker stdout and stderr are sent to the main error log.'; \t\techo 'catch_workers_output = yes'; \t\techo 'decorate_workers_output = no'; \t} | tee php-fpm.d/docker.conf; \t{ \t\techo '[global]'; \t\techo 'daemonize = no'; \t\techo; \t\techo '[www]'; \t\techo 'listen = 9000'; \t} | tee php-fpm.d/zz-docker.conf",
          "system_commands": [
            "set -eux",
            "cd /usr/local/etc",
            "if [ -d php-fpm.d ]",
            "then sed 's!=NONE/!=!g' php-fpm.conf.default | tee php-fpm.conf > /dev/null",
            "cp php-fpm.d/www.conf.default php-fpm.d/www.conf",
            "else mkdir php-fpm.d",
            "cp php-fpm.conf.default php-fpm.d/www.conf",
            "{ echo '[global]'",
            "echo 'include=etc/php-fpm.d/*.conf'",
            "} | tee php-fpm.conf",
            "fi",
            "{ echo '[global]'",
            "echo 'error_log = /proc/self/fd/2'",
            "echo",
            "echo '",
            "https://github.com/docker-library/php/pull/725#issuecomment-443540114'",
            "echo 'log_limit = 8192'",
            "echo",
            "echo '[www]'",
            "echo '",
            "if we send this to /proc/self/fd/1, it never appears'",
            "echo 'access.log = /proc/self/fd/2'",
            "echo",
            "echo 'clear_env = no'",
            "echo",
            "echo '",
            "Ensure worker stdout and stderr are sent to the main error log.'",
            "echo 'catch_workers_output = yes'",
            "echo 'decorate_workers_output = no'",
            "} | tee php-fpm.d/docker.conf",
            "{ echo '[global]'",
            "echo 'daemonize = no'",
            "echo",
            "echo '[www]'",
            "echo 'listen = 9000'",
            "} | tee php-fpm.d/zz-docker.conf"
          ]
        },
        {
          "type": "STOPSIGNAL",
          "time": "2021-08-27T21:54:47Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "SIGQUIT",
          "command_snippet": "STOPSIGNAL SIGQUIT",
          "command_all": "STOPSIGNAL SIGQUIT"
        },
        {
          "type": "EXPOSE",
          "time": "2021-08-27T21:54:47Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "9000",
          "command_snippet": "EXPOSE 9000",
          "command_all": "EXPOSE 9000"
        },
        {
          "type": "CMD",
          "time": "2021-08-27T21:54:48Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"php-fpm\"]",
          "command_snippet": "CMD [\"php-fpm\"]",
          "command_all": "CMD [\"php-fpm\"]"
        },
        {
          "type": "LABEL",
          "time": "2021-09-08T09:20:41Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "org.opencontainers.image.authors=The Lagoon Authors maintainer=The Lagoon Authors",
          "command_snippet": "LABEL org.opencontainers.image.authors=The L...",
          "command_all": "LABEL org.opencontainers.image.authors=The Lagoon Authors maintainer=The Lagoon Authors"
        },
        {
          "type": "LABEL",
          "time": "2021-09-08T09:20:41Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "org.opencontainers.image.source=https://github.com/uselagoon/lagoon-images repository=https://github.com/uselagoon/lagoon-images",
          "command_snippet": "LABEL org.opencontainers.image.source=https:...",
          "command_all": "LABEL org.opencontainers.image.source=https://github.com/uselagoon/lagoon-images repository=https://github.com/uselagoon/lagoon-images"
        },
        {
          "type": "ENV",
          "time": "2021-09-08T09:20:42Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "LAGOON=php",
          "command_snippet": "ENV LAGOON=php",
          "command_all": "ENV LAGOON=php"
        },
        {
          "type": "ARG",
          "time": "2021-09-08T09:20:42Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "LAGOON_VERSION",
          "command_snippet": "ARG LAGOON_VERSION",
          "command_all": "ARG LAGOON_VERSION"
        },
        {
          "type": "ENV",
          "time": "2021-09-08T09:20:42Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "LAGOON_VERSION=21.9.0",
          "command_snippet": "ENV LAGOON_VERSION=21.9.0",
          "command_all": "ENV LAGOON_VERSION=21.9.0"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:43Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 11741205,
          "size_human": "12 MB",
          "params": "dir:14fd2bdff8f72d868de22177b6920cd7f36049b1150ec76b497bd5090e3aa5c2 in /lagoon",
          "command_snippet": "COPY dir:14fd2bdff8f72d868de22177b6920cd7f36...",
          "command_all": "COPY dir:14fd2bdff8f72d868de22177b6920cd7f36049b1150ec76b497bd5090e3aa5c2 /lagoon",
          "target": "/lagoon",
          "source_type": "dir"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:43Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 4999652,
          "size_human": "5.0 MB",
          "params": "multi:5aa3abc37b4a68291f4f6fe2dc28a72c2140f2558fb5a6812567c98c527303a3 in /bin/",
          "command_snippet": "COPY multi:5aa3abc37b4a68291f4f6fe2dc28a72c2...",
          "command_all": "COPY multi:5aa3abc37b4a68291f4f6fe2dc28a72c2140f2558fb5a6812567c98c527303a3 /bin/",
          "target": "/bin/",
          "source_type": "multi"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:44Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 27504,
          "size_human": "28 kB",
          "params": "file:b27f3e278efc7a2b920386faf5074a1bb3462464e01e637da86ad074bd23d831 in /sbin/",
          "command_snippet": "COPY file:b27f3e278efc7a2b920386faf5074a1bb3...",
          "command_all": "COPY file:b27f3e278efc7a2b920386faf5074a1bb3462464e01e637da86ad074bd23d831 /sbin/",
          "target": "/sbin/",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:44Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 986,
          "size_human": "986 B",
          "params": "dir:e9800c2c6c6703fe29435989457f10f64825ceeedd89d55cb389b39d86fb71c4 in /home",
          "command_snippet": "COPY dir:e9800c2c6c6703fe29435989457f10f6482...",
          "command_all": "COPY dir:e9800c2c6c6703fe29435989457f10f64825ceeedd89d55cb389b39d86fb71c4 /home",
          "target": "/home",
          "source_type": "dir"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:44Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 2868121,
          "size_human": "2.9 MB",
          "params": "dir:4ce6b1a64dfd4891cbfd1e22444a5d06cdaf4bbd61e08d9939b4502a75e92bc9 in /healthz-php",
          "command_snippet": "COPY dir:4ce6b1a64dfd4891cbfd1e22444a5d06cda...",
          "command_all": "COPY dir:4ce6b1a64dfd4891cbfd1e22444a5d06cdaf4bbd61e08d9939b4502a75e92bc9 /healthz-php",
          "target": "/healthz-php",
          "source_type": "dir"
        },
        {
          "type": "RUN",
          "time": "2021-09-08T09:20:47Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 1274,
          "size_human": "1.3 kB",
          "command_snippet": "RUN fix-permissions /etc/passwd && \\\n\tmkdir ...",
          "command_all": "RUN fix-permissions /etc/passwd && \\\n\tmkdir -p /home",
          "system_commands": [
            "fix-permissions /etc/passwd",
            "mkdir -p /home"
          ]
        },
        {
          "type": "ENV",
          "time": "2021-09-08T09:20:47Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "TMPDIR=/tmp TMP=/tmp HOME=/home ENV=/home/.bashrc BASH_ENV=/home/.bashrc",
          "command_snippet": "ENV TMPDIR=/tmp TMP=/tmp HOME=/home ENV=/hom...",
          "command_all": "ENV TMPDIR=/tmp TMP=/tmp HOME=/home ENV=/home/.bashrc BASH_ENV=/home/.bashrc"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:47Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 380,
          "size_human": "380 B",
          "params": "file:69478be25d230c0cd7283a8c285c49311f704228a89b6006f17442a02a02e615 in /usr/sbin/",
          "command_snippet": "COPY file:69478be25d230c0cd7283a8c285c49311f...",
          "command_all": "COPY file:69478be25d230c0cd7283a8c285c49311f704228a89b6006f17442a02a02e615 /usr/sbin/",
          "target": "/usr/sbin/",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:48Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 4008,
          "size_human": "4.0 kB",
          "params": "multi:53a2e25f87d71c0d7e534f25f6df35661c6f8c61e842204598600dc5b4d23e90 in /lagoon/entrypoints/",
          "command_snippet": "COPY multi:53a2e25f87d71c0d7e534f25f6df35661...",
          "command_all": "COPY multi:53a2e25f87d71c0d7e534f25f6df35661c6f8c61e842204598600dc5b4d23e90 /lagoon/entrypoints/",
          "target": "/lagoon/entrypoints/",
          "source_type": "multi"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:48Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 59237,
          "size_human": "59 kB",
          "params": "file:20a1a85e1b5d2f58ce8527cad873c48ad260704d4932effbb505bf9e959723e8 in /usr/local/etc/php/",
          "command_snippet": "COPY file:20a1a85e1b5d2f58ce8527cad873c48ad2...",
          "command_all": "COPY file:20a1a85e1b5d2f58ce8527cad873c48ad260704d4932effbb505bf9e959723e8 /usr/local/etc/php/",
          "target": "/usr/local/etc/php/",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:49Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 590,
          "size_human": "590 B",
          "params": "file:4cafeeb10fa8d6c274664bacb8c70b253bd2fb9ab7ed3e263532749eea3298d0 in /usr/local/etc/php/conf.d/",
          "command_snippet": "COPY file:4cafeeb10fa8d6c274664bacb8c70b253b...",
          "command_all": "COPY file:4cafeeb10fa8d6c274664bacb8c70b253bd2fb9ab7ed3e263532749eea3298d0 /usr/local/etc/php/conf.d/",
          "target": "/usr/local/etc/php/conf.d/",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:49Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 5862,
          "size_human": "5.9 kB",
          "params": "file:b6bc8feb9ed04d51e06db5c0364a9f3be334468ccb1b6b850008317006fdeeaa in /usr/local/etc/php-fpm.d/www.conf",
          "command_snippet": "COPY file:b6bc8feb9ed04d51e06db5c0364a9f3be3...",
          "command_all": "COPY file:b6bc8feb9ed04d51e06db5c0364a9f3be334468ccb1b6b850008317006fdeeaa /usr/local/etc/php-fpm.d/www.conf",
          "target": "/usr/local/etc/php-fpm.d/www.conf",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:49Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 139,
          "size_human": "139 B",
          "params": "file:781422c6eec9f5566d97d1bb67d2b09fcf946a8d40bada29b88b0f5b9ab96a0f in /etc/ssmtp/ssmtp.conf",
          "command_snippet": "COPY file:781422c6eec9f5566d97d1bb67d2b09fcf...",
          "command_all": "COPY file:781422c6eec9f5566d97d1bb67d2b09fcf946a8d40bada29b88b0f5b9ab96a0f /etc/ssmtp/ssmtp.conf",
          "target": "/etc/ssmtp/ssmtp.conf",
          "source_type": "file"
        },
        {
          "type": "COPY",
          "time": "2021-09-08T09:20:50Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 738,
          "size_human": "738 B",
          "params": "file:99d52b1a5f7a1d1712756e8e7f6d4d0647642fe64af13e6cd8710ea37c1c8a4d in /usr/local/etc/php/conf.d/blackfire.disable",
          "command_snippet": "COPY file:99d52b1a5f7a1d1712756e8e7f6d4d0647...",
          "command_all": "COPY file:99d52b1a5f7a1d1712756e8e7f6d4d0647642fe64af13e6cd8710ea37c1c8a4d /usr/local/etc/php/conf.d/blackfire.disable",
          "target": "/usr/local/etc/php/conf.d/blackfire.disable",
          "source_type": "file"
        },
        {
          "type": "ENV",
          "time": "2021-09-08T09:20:50Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "NEWRELIC_VERSION=9.17.1.301",
          "command_snippet": "ENV NEWRELIC_VERSION=9.17.1.301",
          "command_all": "ENV NEWRELIC_VERSION=9.17.1.301"
        },
        {
          "type": "RUN",
          "time": "2021-09-08T09:23:08Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 477395975,
          "size_human": "477 MB",
          "command_snippet": "RUN apk add --no-cache fcgi         ssmtp   ...",
          "command_all": "RUN apk add --no-cache fcgi         ssmtp         libzip libzip-dev         libpng-dev         libjpeg-turbo-dev         gettext-dev         libmcrypt-dev         libxml2-dev         libxslt-dev         libgcrypt-dev         libwebp-dev         postgresql-dev         yaml-dev         imagemagick         imagemagick-libs         imagemagick-dev && \\\n\tapk add --no-cache --virtual .phpize-deps $PHPIZE_DEPS && \\\n\tyes '' | pecl install -f apcu && \\\n\tyes '' | pecl install -f xdebug-2.9.8 && \\\n\tyes '' | pecl install -f yaml && \\\n\tyes '' | pecl install -f redis-4.3.0 && \\\n\tyes '' | pecl install -f imagick && \\\n\tdocker-php-ext-enable apcu redis xdebug imagick && \\\n\tdocker-php-ext-configure gd --with-webp --with-jpeg && \\\n\tdocker-php-ext-install -j4 bcmath gd gettext pdo_mysql mysqli pdo_pgsql pgsql shmop soap sockets opcache xsl zip && \\\n\tsed -i '1s/^/;Intentionally disabled. Enable via setting env variable XDEBUG_ENABLE to true\\n;/' /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini && \\\n\trm -rf /var/cache/apk/* /tmp/pear/ && \\\n\tapk del .phpize-deps && \\\n\techo \"extension=yaml.so\" > /usr/local/etc/php/conf.d/yaml.ini && \\\n\tmkdir -p /tmp/newrelic && \\\n\tcd /tmp/newrelic && \\\n\twget https://download.newrelic.com/php_agent/archive/${NEWRELIC_VERSION}/newrelic-php5-${NEWRELIC_VERSION}-linux-musl.tar.gz && \\\n\tgzip -dc newrelic-php5-${NEWRELIC_VERSION}-linux-musl.tar.gz | tar --strip-components=1 -xf - && \\\n\tNR_INSTALL_USE_CP_NOT_LN=1 NR_INSTALL_SILENT=1 ./newrelic-install install && \\\n\tsed -i -e \"s/newrelic.appname = .*/newrelic.appname = \\\"\\${LAGOON_PROJECT:-noproject}-\\${LAGOON_GIT_SAFE_BRANCH:-nobranch}\\\"/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/;newrelic.enabled = .*/newrelic.enabled = \\${NEWRELIC_ENABLED:-false}/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/;newrelic.browser_monitoring.auto_instrument = .*/newrelic.browser_monitoring.auto_instrument = \\${NEWRELIC_BROWSER_MONITORING_ENABLED:-true}/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/newrelic.license = .*/newrelic.license = \\\"\\${NEWRELIC_LICENSE:-}\\\"/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/;newrelic.loglevel = .*/newrelic.loglevel = \\\"\\${NEWRELIC_LOG_LEVEL:-warning}\\\"/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/;newrelic.daemon.loglevel = .*/newrelic.daemon.loglevel = \\\"\\${NEWRELIC_DAEMON_LOG_LEVEL:-warning}\\\"/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/newrelic.logfile = .*/newrelic.logfile = \\\"\\/dev\\/stderr\\\"/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tsed -i -e \"s/newrelic.daemon.logfile = .*/newrelic.daemon.logfile = \\\"\\/dev\\/stderr\\\"/\" /usr/local/etc/php/conf.d/newrelic.ini && \\\n\tmv /usr/local/etc/php/conf.d/newrelic.ini /usr/local/etc/php/conf.d/newrelic.disable && \\\n\tcd / && \\\n\trm -rf /tmp/newrelic && \\\n\tmkdir -p /app && \\\n\tfix-permissions /usr/local/etc/ && \\\n\tfix-permissions /app && \\\n\tfix-permissions /etc/ssmtp/ssmtp.conf",
          "system_commands": [
            "apk add --no-cache fcgi         ssmtp         libzip libzip-dev         libpng-dev         libjpeg-turbo-dev         gettext-dev         libmcrypt-dev         libxml2-dev         libxslt-dev         libgcrypt-dev         libwebp-dev         postgresql-dev         yaml-dev         imagemagick         imagemagick-libs         imagemagick-dev",
            "apk add --no-cache --virtual .phpize-deps $PHPIZE_DEPS",
            "yes '' | pecl install -f apcu",
            "yes '' | pecl install -f xdebug-2.9.8",
            "yes '' | pecl install -f yaml",
            "yes '' | pecl install -f redis-4.3.0",
            "yes '' | pecl install -f imagick",
            "docker-php-ext-enable apcu redis xdebug imagick",
            "docker-php-ext-configure gd --with-webp --with-jpeg",
            "docker-php-ext-install -j4 bcmath gd gettext pdo_mysql mysqli pdo_pgsql pgsql shmop soap sockets opcache xsl zip",
            "sed -i '1s/^/;Intentionally disabled. Enable via setting env variable XDEBUG_ENABLE to truen;/' /usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini",
            "rm -rf /var/cache/apk/* /tmp/pear/",
            "apk del .phpize-deps",
            "echo \"extension=yaml.so\" > /usr/local/etc/php/conf.d/yaml.ini",
            "mkdir -p /tmp/newrelic",
            "cd /tmp/newrelic",
            "wget https://download.newrelic.com/php_agent/archive/${NEWRELIC_VERSION}/newrelic-php5-${NEWRELIC_VERSION}-linux-musl.tar.gz",
            "gzip -dc newrelic-php5-${NEWRELIC_VERSION}-linux-musl.tar.gz | tar --strip-components=1 -xf -",
            "NR_INSTALL_USE_CP_NOT_LN=1 NR_INSTALL_SILENT=1 ./newrelic-install install",
            "sed -i -e \"s/newrelic.appname = .*/newrelic.appname = \"${LAGOON_PROJECT:-noproject}-${LAGOON_GIT_SAFE_BRANCH:-nobranch}\"/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/;newrelic.enabled = .*/newrelic.enabled = ${NEWRELIC_ENABLED:-false}/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/;newrelic.browser_monitoring.auto_instrument = .*/newrelic.browser_monitoring.auto_instrument = ${NEWRELIC_BROWSER_MONITORING_ENABLED:-true}/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/newrelic.license = .*/newrelic.license = \"${NEWRELIC_LICENSE:-}\"/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/;newrelic.loglevel = .*/newrelic.loglevel = \"${NEWRELIC_LOG_LEVEL:-warning}\"/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/;newrelic.daemon.loglevel = .*/newrelic.daemon.loglevel = \"${NEWRELIC_DAEMON_LOG_LEVEL:-warning}\"/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/newrelic.logfile = .*/newrelic.logfile = \"/dev/stderr\"/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "sed -i -e \"s/newrelic.daemon.logfile = .*/newrelic.daemon.logfile = \"/dev/stderr\"/\" /usr/local/etc/php/conf.d/newrelic.ini",
            "mv /usr/local/etc/php/conf.d/newrelic.ini /usr/local/etc/php/conf.d/newrelic.disable",
            "cd /",
            "rm -rf /tmp/newrelic",
            "mkdir -p /app",
            "fix-permissions /usr/local/etc/",
            "fix-permissions /app",
            "fix-permissions /etc/ssmtp/ssmtp.conf"
          ]
        },
        {
          "type": "ENV",
          "time": "2021-09-08T09:23:09Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "BLACKFIRE_VERSION=2.4.2",
          "command_snippet": "ENV BLACKFIRE_VERSION=2.4.2",
          "command_all": "ENV BLACKFIRE_VERSION=2.4.2"
        },
        {
          "type": "RUN",
          "time": "2021-09-08T09:23:13Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 16709212,
          "size_human": "17 MB",
          "command_snippet": "RUN version=$(php -r \"echo PHP_MAJOR_VERSION...",
          "command_all": "RUN version=$(php -r \"echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;\") && \\\n\tmkdir -p /blackfire && \\\n\tcurl -A \"Docker\" -o /blackfire/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/alpine/amd64/$version && \\\n\ttar zxpf /blackfire/blackfire-probe.tar.gz -C /blackfire && \\\n\tmv /blackfire/blackfire-*.so $(php -r \"echo ini_get('extension_dir');\")/blackfire.so && \\\n\tfix-permissions /usr/local/etc/php/conf.d/ && \\\n\tcurl -A \"Docker\" -o /blackfire/blackfire-linux_amd64.tar.gz -D - -L -s https://packages.blackfire.io/binaries/blackfire/${BLACKFIRE_VERSION}/blackfire-linux_amd64.tar.gz && \\\n\ttar zxpf /blackfire/blackfire-linux_amd64.tar.gz -C /blackfire && \\\n\tmv /blackfire/blackfire /bin/blackfire && \\\n\tchmod +x /bin/blackfire && \\\n\tmkdir -p /etc/blackfire && \\\n\ttouch /etc/blackfire/agent && \\\n\tfix-permissions /etc/blackfire",
          "system_commands": [
            "version=$(php -r \"echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;\")",
            "mkdir -p /blackfire",
            "curl -A \"Docker\" -o /blackfire/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/alpine/amd64/$version",
            "tar zxpf /blackfire/blackfire-probe.tar.gz -C /blackfire",
            "mv /blackfire/blackfire-*.so $(php -r \"echo ini_get('extension_dir');\")/blackfire.so",
            "fix-permissions /usr/local/etc/php/conf.d/",
            "curl -A \"Docker\" -o /blackfire/blackfire-linux_amd64.tar.gz -D - -L -s https://packages.blackfire.io/binaries/blackfire/${BLACKFIRE_VERSION}/blackfire-linux_amd64.tar.gz",
            "tar zxpf /blackfire/blackfire-linux_amd64.tar.gz -C /blackfire",
            "mv /blackfire/blackfire /bin/blackfire",
            "chmod +x /bin/blackfire",
            "mkdir -p /etc/blackfire",
            "touch /etc/blackfire/agent",
            "fix-permissions /etc/blackfire"
          ]
        },
        {
          "type": "EXPOSE",
          "time": "2021-09-08T09:23:14Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "9000",
          "command_snippet": "EXPOSE 9000",
          "command_all": "EXPOSE 9000"
        },
        {
          "type": "ENV",
          "time": "2021-09-08T09:23:14Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "LAGOON_ENVIRONMENT_TYPE=development",
          "command_snippet": "ENV LAGOON_ENVIRONMENT_TYPE=development",
          "command_all": "ENV LAGOON_ENVIRONMENT_TYPE=development"
        },
        {
          "type": "WORKDIR",
          "time": "2021-09-08T09:23:15Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "/app",
          "command_snippet": "WORKDIR /app",
          "command_all": "WORKDIR /app",
          "system_commands": [
            "mkdir -p /app"
          ]
        },
        {
          "type": "ENTRYPOINT",
          "time": "2021-09-08T09:23:16Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"/sbin/tini\",\"--\",\"/lagoon/entrypoints.sh\"]",
          "command_snippet": "ENTRYPOINT [\"/sbin/tini\",\"--\",\"/lagoon/entry...",
          "command_all": "ENTRYPOINT [\"/sbin/tini\",\"--\",\"/lagoon/entrypoints.sh\"]"
        },
        {
          "type": "CMD",
          "time": "2021-09-08T09:23:17Z",
          "is_last_instruction": true,
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": true,
          "layer_index": 0,
          "size": 0,
          "params": "[\"/usr/local/sbin/php-fpm\",\"-F\",\"-R\"]",
          "command_snippet": "CMD [\"/usr/local/sbin/php-fpm\",\"-F\",\"-R\"]",
          "command_all": "CMD [\"/usr/local/sbin/php-fpm\",\"-F\",\"-R\"]",
          "raw_tags": [
            "uselagoon/php-7.4-fpm:latest"
          ]
        }
      ]
    }
  ]
}
